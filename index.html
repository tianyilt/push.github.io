<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="探究前线">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="探究前线">
<meta property="article:author" content="tianyilt">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>探究前线</title>
  








<meta name="generator" content="Hexo 4.1.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">探究前线</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">究天人之际,析万物之理</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-03-ch11%E6%9E%84%E5%BB%BA%E5%B0%8F%E5%9E%8B%E7%BD%91%E7%BB%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-03-ch11%E6%9E%84%E5%BB%BA%E5%B0%8F%E5%9E%8B%E7%BD%91%E7%BB%9C/" itemprop="url">2019-11-03-ch11构建小型网络</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="构建小型网络"><a href="#构建小型网络" class="headerlink" title="构建小型网络"></a>构建小型网络</h1><p>categories: 思科1</p>
<h2 id="网络设计"><a href="#网络设计" class="headerlink" title="网络设计"></a>网络设计</h2><h3 id="小型网络中的设备"><a href="#小型网络中的设备" class="headerlink" title="小型网络中的设备"></a>小型网络中的设备</h3><h4 id="设备选择"><a href="#设备选择" class="headerlink" title="设备选择"></a>设备选择</h4><ul>
<li>成本: 冗余量, 性能要求，布线费用， 安全技术</li>
<li>端口: 前瞻性</li>
<li>扩展性: 模块化设备便于扩展</li>
<li>操作系统, 网络设备的功能</li>
</ul>
<h4 id="冗余"><a href="#冗余" class="headerlink" title="冗余"></a>冗余</h4><p>高可靠性. </p>
<p>例如: 多个默认网关提供单个互联网出口点</p>
<h4 id="扩展网络要考虑的要素"><a href="#扩展网络要考虑的要素" class="headerlink" title="扩展网络要考虑的要素"></a>扩展网络要考虑的要素</h4><ul>
<li><p>网络文档: 物理拓扑和逻辑拓扑</p>
</li>
<li><p>设备清单</p>
</li>
<li><p>预算</p>
</li>
<li><p>流量分析</p>
<p>捕获高峰期的流量, 了解流量类型</p>
<p>争夺不同网段捕获流量</p>
</li>
</ul>
<h2 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h2><h3 id="威胁类型"><a href="#威胁类型" class="headerlink" title="威胁类型"></a>威胁类型</h3><ul>
<li>数据丢失</li>
<li>DoS</li>
<li>身份盗窃</li>
<li>信息盗窃</li>
</ul>
<h3 id="物理安全"><a href="#物理安全" class="headerlink" title="物理安全"></a>物理安全</h3><ul>
<li>硬件威胁: 物理破坏</li>
<li>环境威胁: 极端环境造成破坏</li>
<li>电气威胁: 供电问题</li>
<li>维护威胁: 静电处理缺失/备用件缺失/布线混乱</li>
</ul>
<h3 id="漏洞类型"><a href="#漏洞类型" class="headerlink" title="漏洞类型"></a>漏洞类型</h3><ul>
<li>技术漏洞</li>
<li>配置缺陷</li>
<li>管理漏洞</li>
</ul>
<h3 id="恶意软件"><a href="#恶意软件" class="headerlink" title="恶意软件"></a>恶意软件</h3><ul>
<li>病毒: 把自身的副本插入另一个程序, 借助其传播. 宿主程序被执行的时候也会执行. 破坏系统.</li>
<li>蠕虫: 独立软件, 利用网络自主传播</li>
<li>特洛伊木马: 看起来合法的有害软件. 只通过用户交互传播.</li>
</ul>
<h3 id="攻击手段"><a href="#攻击手段" class="headerlink" title="攻击手段"></a>攻击手段</h3><ul>
<li>侦察攻击: 查询攻击对象在互联网上的信息, 测试IP地址段, 端口扫描, 数据包嗅探</li>
<li>访问攻击: 密码攻击, 信任利用(通过系统A信任的系统B攻击系统A), 端口重定向, 中间人</li>
<li>拒绝服务攻击: 耗尽系统资源, 阻止系统服务<ul>
<li>死亡之ping, 异常的ping数据包</li>
<li>syn泛洪: 发送大量的syn, 让服务器等待完成三次握手, 正常用户不可访问</li>
<li>DDoS, 僵尸计算机攻击受害主机</li>
<li>Smurf, 发送大量ICMP淹没到达受害主机的线路</li>
</ul>
</li>
</ul>
<h3 id="防范"><a href="#防范" class="headerlink" title="防范"></a>防范</h3><ul>
<li><p>更新系统</p>
</li>
<li><p>身份验证, 授权, 记账(记录行为)</p>
</li>
<li><p>防火墙</p>
<ul>
<li>数据包过滤: 根据IP或MAC允许或阻止访问</li>
<li>应用程序过滤: 根据端口号允许或阻止</li>
<li>URL过滤: 根据URL</li>
<li>状态包侦测(SPI):  传入数据包必须是对内部主机请求的合法相应, 否则数据包会被拦截</li>
</ul>
</li>
</ul>
<h3 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h3><ul>
<li><p>强密码</p>
<pre><code>(config)# security passwords min-length // 限制长度
(config)# login block-for 120 attempts 3 within 60 // 60s内3次失败将锁定120s</code></pre></li>
<li><p>SSH</p>
<pre><code>// 确保路由器有唯一主机名
(config)# ip domain-name //配置IP域名
(config)# crypto key generate rsa general-keys //生成密钥
(config)# username // 创建数据库用户名条目
(config)# line vty 0 4
(config-line)# login local
# transport input ssh
exit</code></pre><p><img src="2019-11-03-ch11%E6%9E%84%E5%BB%BA%E5%B0%8F%E5%9E%8B%E7%BD%91%E7%BB%9C/1572792063003.png" alt="1572792063003"></p>
</li>
</ul>
<h3 id="基础网络性能"><a href="#基础网络性能" class="headerlink" title="基础网络性能"></a>基础网络性能</h3><pre><code>arp -d * // 清除arp缓存(windows)
show cdp neighbours // 发现cdp邻居的信息
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-03-ch10%E5%BA%94%E7%94%A8%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-03-ch10%E5%BA%94%E7%94%A8%E5%B1%82/" itemprop="url">2019-11-03-ch10应用层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h1><p>categories: 思科1</p>
<h2 id="应用层协议"><a href="#应用层协议" class="headerlink" title="应用层协议"></a>应用层协议</h2><h3 id="应用层-表示层-会话层"><a href="#应用层-表示层-会话层" class="headerlink" title="应用层, 表示层, 会话层"></a>应用层, 表示层, 会话层</h3><h4 id="应用层-1"><a href="#应用层-1" class="headerlink" title="应用层"></a>应用层</h4><p>最接近用户. OSI的应用层, 表示层, 会话层对应了TCP/IP的应用层</p>
<h4 id="表示层和会话层"><a href="#表示层和会话层" class="headerlink" title="表示层和会话层"></a>表示层和会话层</h4><p>表示层的功能</p>
<ul>
<li>数据格式化</li>
<li>数据压缩</li>
<li>加密数据</li>
</ul>
<p>包括了各种文件标准, MPEG, GIF, JPG, PNG等</p>
<p>会话层的功能</p>
<ul>
<li>创建和维持会话</li>
<li>重启会话</li>
</ul>
<h4 id="TCP-IP应用层"><a href="#TCP-IP应用层" class="headerlink" title="TCP/IP应用层"></a>TCP/IP应用层</h4><p> 指定了许多常见 Internet 通信功能必需的格式和控制信息 </p>
<p><img src="2019-11-03-ch10%E5%BA%94%E7%94%A8%E5%B1%82/1572788542262.png" alt="1572788542262"></p>
<h3 id="交互"><a href="#交互" class="headerlink" title="交互"></a>交互</h3><h4 id="客户端-服务器模式"><a href="#客户端-服务器模式" class="headerlink" title="客户端-服务器模式"></a>客户端-服务器模式</h4><p>客户端请求信息, 服务器想要请求</p>
<h4 id="对等网络"><a href="#对等网络" class="headerlink" title="对等网络"></a>对等网络</h4><p>P2P, 角色在客户端和服务器之间互换</p>
<h4 id="对等应用程序"><a href="#对等应用程序" class="headerlink" title="对等应用程序"></a>对等应用程序</h4><p>同时充当客户端和服务器的应用程序</p>
<p>例如即使消息</p>
<h2 id="常用应用层协议"><a href="#常用应用层协议" class="headerlink" title="常用应用层协议"></a>常用应用层协议</h2><h3 id="web和email"><a href="#web和email" class="headerlink" title="web和email"></a>web和email</h3><h4 id="HTTP和HTTPs"><a href="#HTTP和HTTPs" class="headerlink" title="HTTP和HTTPs"></a>HTTP和HTTPs</h4><p>三种消息类型为get/post/put</p>
<p>https的数据流通过ssl加密</p>
<h4 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h4><ul>
<li><p>SMTP</p>
<p>邮件有报头和正文, 公认端口25, 客户端把邮件给服务器, 服务器转发邮件. 目标不可达时会尝试重发, 一段时间无法重发会将邮件退回.</p>
</li>
<li><p>POP</p>
<p>检索邮件, 邮件下载到客户端后就从服务器删除. 端口110</p>
</li>
<li><p>IMAP</p>
<p>原始邮件会存在服务器上. 有文件结构, 便于管理. 可以手动删除</p>
</li>
</ul>
<h3 id="IP编址"><a href="#IP编址" class="headerlink" title="IP编址"></a>IP编址</h3><ul>
<li><p>DNS层级</p>
<ul>
<li><a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
<li>域名越往上, 层级越高</li>
<li>查询IP, 先查.com, 再查baidu.com, 最后查<a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></li>
</ul>
</li>
<li><p>nslookup, 手动查询dns服务器IP地址</p>
</li>
<li><p>动态主机配置协议DHCP, 可以减少配置工作量, 减少错误</p>
<ul>
<li>通过广播请求DHCP服务器响应</li>
<li>服务器回复, 提供IPv4地址, 子网掩码, DNS服务器的IPv4地址和默认网关, 还有地址的使用期限.</li>
</ul>
</li>
</ul>
<h3 id="文件共享"><a href="#文件共享" class="headerlink" title="文件共享"></a>文件共享</h3><h4 id="服务器消息块SMB"><a href="#服务器消息块SMB" class="headerlink" title="服务器消息块SMB"></a>服务器消息块SMB</h4><ul>
<li>功能<ul>
<li>启动, 身份验证, 终止会话</li>
<li>控制文件和打印机访问(Windows文件共享, 连接打印机等)</li>
<li>允许应用程序向任何设备发消息</li>
</ul>
</li>
</ul>
<h4 id="文件传输协议FTP"><a href="#文件传输协议FTP" class="headerlink" title="文件传输协议FTP"></a>文件传输协议FTP</h4><ul>
<li>客户端与服务器用21端口建立一个用于控制传输的会话</li>
<li>用20端口传输数据</li>
<li>可以上传也可以下载</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-03-ch09%E4%BC%A0%E8%BE%93%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-03-ch09%E4%BC%A0%E8%BE%93%E5%B1%82/" itemprop="url">2019-11-03-ch09传输层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h1><p>categories: 思科1</p>
<h2 id="传输层协议"><a href="#传输层协议" class="headerlink" title="传输层协议"></a>传输层协议</h2><h3 id="传输层原理"><a href="#传输层原理" class="headerlink" title="传输层原理"></a>传输层原理</h3><ul>
<li>传输层负责在应用之间建立临时会话和传输数据. 从源主机的某程序生成数据传输到目标主机. </li>
<li>会话: 源程序和目的程序传输的每个数据集称为一个会话</li>
<li>传输层负责跟踪会话, 把数据段切块加上报头, 重组数据段, 用端口号标识应用程序</li>
<li>多路复用: 把数据切成很小的块, 交替传输, 避免一个很大的块占用带宽</li>
<li>TCP: 传输控制协议,  可靠且功能齐全,  确保所有数据到达目的设备, 报头复杂, 延迟高. 数据包需要确认收到, 没有确认, 会重发</li>
<li>UDP: 用户数据报协议, 对可靠性要求不高的传输, 精简. </li>
</ul>
<h3 id="TCP功能"><a href="#TCP功能" class="headerlink" title="TCP功能"></a>TCP功能</h3><ul>
<li>建立会话:  在源设备和目的设备之间协商并建立永久连接(或会话), 协商转发流量, 通信数据得到管理. </li>
<li>可靠传输: 丢失补发</li>
<li>同序船速: 用序列号编排数据段</li>
<li>流量控制: 接收方处理能力有限的时候, 会请求原应用程序降低数据流速</li>
</ul>
<h4 id="TCP报头"><a href="#TCP报头" class="headerlink" title="TCP报头"></a>TCP报头</h4><p><img src="2019-11-03-ch9%E4%BC%A0%E8%BE%93%E5%B1%82/1572777711842.png" alt="1572777711842"></p>
<h3 id="UDP功能"><a href="#UDP功能" class="headerlink" title="UDP功能"></a>UDP功能</h3><ul>
<li>数据按接收顺序重构</li>
<li>丢失数据不重传</li>
<li>不建立会话</li>
<li>不告知发送方资源可用性的信息</li>
</ul>
<h4 id="UDP报头"><a href="#UDP报头" class="headerlink" title="UDP报头"></a>UDP报头</h4><p><img src="2019-11-03-ch9%E4%BC%A0%E8%BE%93%E5%B1%82/1572777792817.png" alt="1572777792817"></p>
<h3 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h3><p>端口号用来表示会话</p>
<ul>
<li>源端口号由发送方设备动态生成 </li>
<li>目的端口常常是固定的<ul>
<li>POP3–110</li>
<li>HTTP-80</li>
<li>IM-531</li>
</ul>
</li>
<li>IP+端口组成了套接字</li>
<li>一个程序对应一个端口</li>
</ul>
<p>端口号分类</p>
<ul>
<li>公认端口0-1023, 用于固定的服务</li>
<li>注册端口1024-49151, 用于用户选择安装的一些应用程序</li>
<li>动态/私有端口49152-65535,  在开始连接服务时由客户端操作系统动态分配 , 在通信期间识别客户端应用程序</li>
</ul>
<h3 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h3><p>查看活跃的TCP连接</p>
<h2 id="TCP和UDP"><a href="#TCP和UDP" class="headerlink" title="TCP和UDP"></a>TCP和UDP</h2><h3 id="TCP通信进程"><a href="#TCP通信进程" class="headerlink" title="TCP通信进程"></a>TCP通信进程</h3><p>三次握手的消息都是在TCP报头的控制位中.</p>
<p><img src="2019-11-03-ch9%E4%BC%A0%E8%BE%93%E5%B1%82/1572778713690.png" alt="1572778713690"></p>
<p>ACK-确认字段有效, =收到字节数+1</p>
<p>SYN-同步序列号</p>
<p>FIN-发送方不再发送数据</p>
<ul>
<li><p>建立连接-三次握手</p>
<ul>
<li>A发送SYN(SEQ=100, CTL=SYN), B接收SYN, </li>
<li>B发送SYN(SEQ=300, ACK=101, CTL=SYN&amp;ACK), ACK, A接收SYN, ACK</li>
<li>建立(SEQ=101, ACK=301, CTL=SYN&amp;ACK)</li>
</ul>
</li>
<li><p>终止会话</p>
<ul>
<li>A发送FIN, B接收FIN</li>
<li>B发送ACK, A接收ACK</li>
<li>B发送FIN, A接收FIN</li>
<li>A发送ACK, B接收ACK</li>
</ul>
</li>
</ul>
<h3 id="TCP可靠性和流量控制"><a href="#TCP可靠性和流量控制" class="headerlink" title="TCP可靠性和流量控制"></a>TCP可靠性和流量控制</h3><ul>
<li>使用序列号ISN标识数据段先后顺序</li>
<li>ISN从一个随机的数开始(防止攻击), 发送一个字节增加1, </li>
<li>窗口表示目的设备一次能处理的字节数, 在三次握手期间确定. 发送数据总大小不能超过窗口. </li>
<li>滑动窗口<ul>
<li>A向B发送数据, 假设窗口大小为N. A发送了X个数据(X&lt;N)</li>
<li>B报告A他已经接收了m个数据</li>
<li>窗口大小调整为m+N, 这样A就可以多发送m个数据</li>
<li>这种方式可以保证A发送的数据永远在B处理范围以内</li>
</ul>
</li>
<li>流量控制<ul>
<li>如果大量丢包, 发送端会减少发送的字节数, 直到收到正常数量的确认信息</li>
</ul>
</li>
</ul>
<h3 id="UDP低开销和可靠性"><a href="#UDP低开销和可靠性" class="headerlink" title="UDP低开销和可靠性"></a>UDP低开销和可靠性</h3><ul>
<li>按照接收的顺序重组数据报</li>
<li>UDP客户端进程从可用端口号动态挑选一个端口, 作为会话的源端口</li>
</ul>
<h3 id="使用TCP的应用"><a href="#使用TCP的应用" class="headerlink" title="使用TCP的应用"></a>使用TCP的应用</h3><ul>
<li>FTP</li>
<li>SMTP</li>
<li>HTTP</li>
<li>Telnet</li>
</ul>
<h3 id="使用UDP的应用"><a href="#使用UDP的应用" class="headerlink" title="使用UDP的应用"></a>使用UDP的应用</h3><p>流媒体, 简单的请求和应答, 不必高可靠的应用</p>
<ul>
<li>SNTP</li>
<li>TFTP</li>
<li>DNS</li>
<li>DHCP</li>
<li>VoIP</li>
<li>IPTV</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-02-ch08%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-11-02-ch08%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91/" itemprop="url">2019-11-02-ch08划分子网</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="对IP网络划分子网"><a href="#对IP网络划分子网" class="headerlink" title="对IP网络划分子网"></a>对IP网络划分子网</h1><p>categories: 思科1</p>
<h2 id="对IPv4网络划分子网"><a href="#对IPv4网络划分子网" class="headerlink" title="对IPv4网络划分子网"></a>对IPv4网络划分子网</h2><h3 id="网络分段"><a href="#网络分段" class="headerlink" title="网络分段"></a>网络分段</h3><h4 id="广播域"><a href="#广播域" class="headerlink" title="广播域"></a>广播域</h4><ul>
<li>广播可以用来发现其他设备的ip地址, 或者通过dhcp获取ipv4地址</li>
<li>交换机将广播转发到除接收端外所有接口(<strong>泛洪</strong>)</li>
<li>路由器<strong>隔离</strong>广播, 广播能到达的区域称为广播域</li>
</ul>
<h4 id="广播域过大"><a href="#广播域过大" class="headerlink" title="广播域过大"></a>广播域过大</h4><ul>
<li>网络流量大, 效率低下</li>
<li>设备处理过多广播</li>
<li>划分子网, 避免广播域过大</li>
</ul>
<h4 id="子网划分的情况"><a href="#子网划分的情况" class="headerlink" title="子网划分的情况"></a>子网划分的情况</h4><ul>
<li>按照地理位置划分</li>
<li>按照设备类型</li>
<li>按照组织单位</li>
</ul>
<h4 id="八位组边界"><a href="#八位组边界" class="headerlink" title="八位组边界"></a>八位组边界</h4><ul>
<li>前缀长度为8/16/24/</li>
<li>网络部分不能变, 从主机部分”借”位数组成子网, 剩下的是子网里面的主机</li>
<li>例如, 主机部分24位, 借8位做子网, 那就有256个子网, 剩下16位, 就有2^16-2个主机</li>
<li>表示为<code>x.x.x.x/16</code></li>
</ul>
<h4 id="无类子网划分"><a href="#无类子网划分" class="headerlink" title="无类子网划分"></a>无类子网划分</h4><ul>
<li><p>/n, 表示前n个是网络+子网地址, 后32-n个是主机地址</p>
</li>
<li><p>从/24的网络借1位, 能划出两个子网, 范围是0-127, 128-255. 借两位, 就是四个子网, 从0-63, 64-127, …</p>
</li>
<li><p>借用n位, 子网有2^n个, 网络内主机有2^(x-n)个, x是子网+主机的总长. </p>
</li>
</ul>
<h3 id="可变长子网掩码"><a href="#可变长子网掩码" class="headerlink" title="可变长子网掩码"></a>可变长子网掩码</h3><ul>
<li>从需求最大的子网开始划分, 知道最小的子网</li>
<li>通过对子网再划分子网</li>
</ul>
<h3 id="对路由器和交换机设置子网"><a href="#对路由器和交换机设置子网" class="headerlink" title="对路由器和交换机设置子网"></a>对路由器和交换机设置子网</h3><ol>
<li><p>基础设置</p>
<pre><code>en
conf t
hostname 
banner motd &#39;&#39;
enable secret cisco
line console 0 
pass class
login
line vty 0 15
pass class
login
exit</code></pre></li>
<li><p>配置ip地址</p>
<ul>
<li><p>首先需要通过路由表确定端口连接的是哪个子网</p>
<pre><code>show ip route
show ipv6 route</code></pre></li>
<li><p>配置ip地址和子网掩码</p>
<pre><code>inter g0/0
ip addr 192.168.100.64 255.255.255.224 // 根据实际情况确定
// 子网掩码不可以用前缀缩写</code></pre></li>
<li><p>如果是交换机, 配置vlan端口地址</p>
<pre><code>interface vlan 1
ip addr ...</code></pre></li>
<li><p>设置默认网关</p>
<pre><code>(config terminal)ip default-gateway 192...</code></pre></li>
</ul>
</li>
</ol>
<h2 id="对IPv6网络设计子网"><a href="#对IPv6网络设计子网" class="headerlink" title="对IPv6网络设计子网"></a>对IPv6网络设计子网</h2><h3 id="IPv6全局单播地址"><a href="#IPv6全局单播地址" class="headerlink" title="IPv6全局单播地址"></a>IPv6全局单播地址</h3><p><img src="2019-11-02-ch8%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91/1572763720767.png" alt="1572763720767"></p>
<ul>
<li>全局路由前缀: 供应商分配的地址, 48位</li>
<li>子网ID: 用来确定子网, 16位, 可以创建2^16个子网</li>
<li>接口ID: 主机部分.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-10-26-ch07IP%E5%AF%BB%E5%9D%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-10-26-ch07IP%E5%AF%BB%E5%9D%80/" itemprop="url">2019-10-26-ch07IP寻址</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="IP编址"><a href="#IP编址" class="headerlink" title="IP编址"></a>IP编址</h1><p>categories: 思科1</p>
<h2 id="IPv4网络地址"><a href="#IPv4网络地址" class="headerlink" title="IPv4网络地址"></a>IPv4网络地址</h2><h3 id="IPv4地址结构"><a href="#IPv4地址结构" class="headerlink" title="IPv4地址结构"></a>IPv4地址结构</h3><ul>
<li>包括网络部分和主机部分, 标识网络和主机</li>
<li>子网掩码: IP地址和子网掩码做与运算, 如果结果相同, 则表示为在同一个子网下.</li>
<li>非标准子网掩码: 用1的个数标识子网掩码: /27标识子网掩码前27位是1, 后面5位是0. 用IP地址+斜杠标识: <code>192.168.0.250/27</code>, 长度越大, 子网网段内地址越少. </li>
<li>主机位全为1的地址是广播地址, 全为0是网段地址</li>
</ul>
<h3 id="IPv4单播-组播-广播"><a href="#IPv4单播-组播-广播" class="headerlink" title="IPv4单播, 组播, 广播"></a>IPv4单播, 组播, 广播</h3><ul>
<li><p>特殊用途的地址段</p>
<ul>
<li>组播地址<ul>
<li>224.0.0.0-239.255.255.255: 用于组播</li>
<li>224.0.0.0-224.0.0.255: 用于本地组播</li>
<li>224.0.0.9: 用于RIP通讯</li>
</ul>
</li>
<li>私有地址<ul>
<li>10.0.0.0/8</li>
<li>172.16.0.0/12, 即172.16.0.0-172.31.255.255</li>
<li>192.168.0.0/16</li>
</ul>
</li>
<li>特殊地址<ul>
<li>127.0.0.0/8, 用于测试IPv4协议栈</li>
<li>169.254.0.0/16, 如果主机ip地址为此, 说明ip地址配置错误/没有dhcp服务器. 这个地址仅能用于内网通讯</li>
</ul>
</li>
</ul>
</li>
<li><p>有类编制, 目前已不采用, 用统一组织分配IP地址. 目前IPv4地址已耗尽</p>
<ul>
<li>A类: 0.0.0.0/8 – 127.0.0.0/8</li>
<li>B类128.0.0.0 /16 – 191.255.0.0 /16</li>
<li>C类192.0.0.0 /24 – 223.255.255.0 /24</li>
</ul>
</li>
</ul>
<h2 id="IPv6网络地址"><a href="#IPv6网络地址" class="headerlink" title="IPv6网络地址"></a>IPv6网络地址</h2><h3 id="IPv4和IPv6共存"><a href="#IPv4和IPv6共存" class="headerlink" title="IPv4和IPv6共存"></a>IPv4和IPv6共存</h3><ul>
<li>双堆栈: 同时有IPv4和v6协议栈</li>
<li>隧道: 让IPv6协议通过IPv4网络</li>
<li>转换: IPv6地址转化为IPv4</li>
</ul>
<h3 id="IPv6编址"><a href="#IPv6编址" class="headerlink" title="IPv6编址"></a>IPv6编址</h3><ul>
<li>128位2进制编码, 用8组*4位16进制编码, 用冒号分隔.</li>
<li>简写方式<ul>
<li>每个段由4个16进制构成, 可以忽略开头的0, 如果一个段全为0, 至少写1个0. </li>
<li>可以使用<strong>一次</strong>双冒号来省略全是0的段落. </li>
</ul>
</li>
<li>前64位是前缀(网络地址), 后64位是接口id(主机地址)</li>
</ul>
<h3 id="IPv6地址类型"><a href="#IPv6地址类型" class="headerlink" title="IPv6地址类型"></a>IPv6地址类型</h3><ul>
<li>单播: 唯一标记一个支持IPv6的<strong>接口</strong></li>
<li>组播: 把单个IPv6数据包发送到各个目的地<ul>
<li>全节点组播地址: 相当于广播</li>
</ul>
</li>
<li>任播: 可以分配到多个设备, 任播地址的数据包会送到最近拥有该地址的路由.</li>
<li>前缀(网络部分)64位, 接口(主机部分)64位.</li>
</ul>
<h3 id="IPv6单播地址"><a href="#IPv6单播地址" class="headerlink" title="IPv6单播地址"></a>IPv6单播地址</h3><p>用来唯一标识支持IPv6的设备的接口, 源地址必须是单播地址, 目的地址可以是组播或单播地址.</p>
<ul>
<li>全局单播(GUA): 公共地址, 前16位从2000到3FFF, 第一位是2或3. 前缀48位+16位子网id+最后64位是接口ID. </li>
<li>本地链路: 子网 <strong>FE80::/10</strong> , 在同一个链路(子网)上通信. 全局单播不是必须的, 但是必须要有本地链路地址. 如果没有手动配置, 且没有dhcp, 设备会自动创建本地链路地址. FE80::/10表示范围是<code>1111 1110 10xx xxxx</code>, 即从<code>1111 1110 1000 0000</code>, 到<code>1111 1110 1011 1111</code></li>
<li>唯一本地: FC00::/7-FDFF::/7, 唯一本地地址用于一个站点内或数量有限的站点之间的本地编址</li>
<li>环回: ::1/128</li>
</ul>
<h3 id="静态配置"><a href="#静态配置" class="headerlink" title="静态配置"></a>静态配置</h3><pre><code>en
conf t
inter g0/0
ipv6 addr ...</code></pre><h3 id="动态配置"><a href="#动态配置" class="headerlink" title="动态配置"></a>动态配置</h3><ul>
<li><p>SLAAC, 无状态地址自动配置, 无需使用DHCPv6服务器, 根据本地路由器的 ICMPv6 路由器通告 (RA) 消息获取必要信息</p>
<ul>
<li><p>RA消息</p>
<p>IPv6 路由器每 200 秒定期将 ICMPv6 RA 消息发送到网络上所有支持 IPv6 的设备. 在响应发送 ICMPv6 路由器请求 (RS) 消息的主机时, 也会发送 RA 消息</p>
</li>
<li><p>RA内容</p>
<ul>
<li>网络前缀与前缀长度</li>
<li>RA消息的源IPv6地址作为默认网关的IPv6本地链路地址</li>
<li>DNS地址和域名</li>
</ul>
</li>
<li><p>RA选项</p>
<ul>
<li><p>仅SLAAC, </p>
<p>RA内容包含前缀, 前缀长度, 默认网关</p>
</li>
<li><p>SLAAC和无状态DHCPv6</p>
<p>RA内容包含前缀, 前缀长度, 默认网关, 从DHCP服务器获得域名等其他信息</p>
</li>
<li><p>有状态DHCPv6</p>
<p>RA只发送默认网关,  全局单播地址, DNS 服务器地址,域名和所有其他信息从DHCP服务器获得</p>
</li>
</ul>
</li>
<li><p>客户端接收到前缀之后使用EUI-64或随机64位作为接口ID</p>
</li>
</ul>
</li>
<li><p>SLAAC和无状态DHCP</p>
</li>
<li><p>RA选项为SLAAC和无状态DHCPv6</p>
</li>
<li><p>有状态DHCP</p>
<ul>
<li>RA选项为SLAAC和有状态DHCP</li>
</ul>
</li>
</ul>
<h3 id="静态配置-1"><a href="#静态配置-1" class="headerlink" title="静态配置"></a>静态配置</h3><pre><code>ipv6 addr fe80::1 link-local</code></pre><h3 id="检验IPv6配置"><a href="#检验IPv6配置" class="headerlink" title="检验IPv6配置"></a>检验IPv6配置</h3><pre><code>show ipv6 interface brief</code></pre><h3 id="IPv6-组播地址"><a href="#IPv6-组播地址" class="headerlink" title="IPv6 组播地址"></a>IPv6 组播地址</h3><ul>
<li><p>分配的组播: 为预先定义的设备组保留的组播地址. 有两种目的IPv6地址, 为: </p>
<ul>
<li>FF02::1 全节点组播, 发送到所有支持IPv6的设备组</li>
<li>FF02::1 全路由组播组, 路由器会转发组播消息到所有支持IPv6设备</li>
</ul>
</li>
<li><p>请求节点IPv6组播地址</p>
<ul>
<li>被映射到特殊的以太网组播地址 , 以太网网卡可以过滤帧</li>
</ul>
</li>
</ul>
<h2 id="ICMP"><a href="#ICMP" class="headerlink" title="ICMP"></a>ICMP</h2><h3 id="基本功能"><a href="#基本功能" class="headerlink" title="基本功能"></a>基本功能</h3><ul>
<li>主机确认: 确定主机是否正常</li>
<li>目标或服务不可达<ul>
<li>0-网络不可达</li>
<li>1-主机不可达</li>
<li>2-协议</li>
<li>3-端口</li>
</ul>
</li>
<li>超时</li>
</ul>
<h3 id="ICMPv6的新功能"><a href="#ICMPv6的新功能" class="headerlink" title="ICMPv6的新功能"></a>ICMPv6的新功能</h3><ul>
<li>地址解析: 使用NS(邻居查询)获得周围设备的MAC地址</li>
<li>重复地址检测(DAD): 检测是否是唯一的地址(不必须), 即NA(邻居通告)</li>
<li>还有请求IPv6地址的RA和RS</li>
</ul>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><h3 id="Ping-测试本地协议栈"><a href="#Ping-测试本地协议栈" class="headerlink" title="Ping, 测试本地协议栈"></a>Ping, 测试本地协议栈</h3><p>ping 127.0.0.1</p>
<p>ping ::1 </p>
<h3 id="Traceroute-测试路径"><a href="#Traceroute-测试路径" class="headerlink" title="Traceroute, 测试路径"></a>Traceroute, 测试路径</h3><p>提供每一跳的往返时间(让TTL从1开始增大, 测得通过每一个路由器往返时间)</p>
<p>IPv4用TTL限制跳数, IPv6用跳数限制限制跳数</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-10-13-ch06%E7%BD%91%E7%BB%9C%E5%B1%82/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-10-13-ch06%E7%BD%91%E7%BB%9C%E5%B1%82/" itemprop="url">2019-10-13-ch06网络层</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h1><p>categories: 思科1</p>
<h2 id="网络层协议"><a href="#网络层协议" class="headerlink" title="网络层协议"></a>网络层协议</h2><h3 id="IP协议特征"><a href="#IP协议特征" class="headerlink" title="IP协议特征"></a>IP协议特征</h3><ul>
<li>封装, 添加报头, 路由至目的设备</li>
<li>无连接<ul>
<li>发送方不确定对方是否在侦听, 或者消息是否准时</li>
<li>接收方不知道数据到达</li>
</ul>
</li>
<li>尽力交付, 不保证送达</li>
<li>和传输介质无关</li>
</ul>
<h3 id="报头"><a href="#报头" class="headerlink" title="报头"></a>报头</h3><p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1570941840854.png" alt="1570941840854"></p>
<h3 id="IPv6数据包"><a href="#IPv6数据包" class="headerlink" title="IPv6数据包"></a>IPv6数据包</h3><p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1570942561869.png" alt="1570942561869"></p>
<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><h3 id="主机路由方式"><a href="#主机路由方式" class="headerlink" title="主机路由方式"></a>主机路由方式</h3><ul>
<li><p>转发决策</p>
<ul>
<li>三种目的地: 自己, LAN中主机, 远程主机<ul>
<li>自己: ping 127.0.0.1. 对环回接口执行 ping 操作可以测试主机上的 TCP/IP 协议堆栈.</li>
<li>本地主机: 一般交换机即可完成作业, 目前路由器都集成了交换机功能. 不需要经过默认网关</li>
</ul>
</li>
</ul>
</li>
<li><p>默认网关</p>
<ul>
<li>对于终端电脑, 要与远程主机通信, 就要把信息发到默认网关, 网关转发(称为路由). </li>
<li>拥有一个本地ip, 一个公网ip</li>
<li>可以转发数据</li>
</ul>
</li>
<li><p>主机路由表包括默认网关, 主机通过动态主机配置协议 (DHCP) 动态接收默认网关 IPv4 地址或手动配置 </p>
</li>
</ul>
<h3 id="路由器路由表"><a href="#路由器路由表" class="headerlink" title="路由器路由表"></a>路由器路由表</h3><ul>
<li><code>route print</code>, 查看路由器信息</li>
</ul>
<p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571281834545.png" alt="1571281834545"></p>
<ul>
<li>路由器上的路由表</li>
</ul>
<p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571446121743.png" alt="1571446121743"></p>
<ul>
<li>内容分析</li>
</ul>
<p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571446144624.png" alt="1571446144624"></p>
<ul>
<li><p>C: 直连</p>
</li>
<li><p>L: 本地</p>
</li>
<li><p>目的网络<code>192.168.10.0/24</code>是一个子网, <code>192.168.10.1/32</code>是子网内路由器的地址</p>
</li>
<li><p><code>GigabitEthernet0/0</code>: 数据包到目的地从这个接口出去</p>
</li>
<li><p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571446313359.png" alt="1571446313359"></p>
<ul>
<li>D/S/O: 路由来源, 确定路由器如何获得网络<ul>
<li>D: 增强型内部网关路由选择协议(EIGRP)</li>
<li>S: 静态路由</li>
<li>O: 开放最短路径优先(OSPF)</li>
</ul>
</li>
<li><code>10.1.1.0/24</code>: 确定目的网络</li>
<li><code>90</code>: 路由来源的管理距离, 越低越好</li>
<li><code>2170112</code>: 衡量路由好坏的参数, 越低越好</li>
<li><code>209.165.200.226</code>: 下一跳路由器的地址</li>
<li><code>00:00:05</code>: 路由最后一次侦听时间</li>
<li><code>Serial0/0/0</code>: 数据包传出接口</li>
</ul>
</li>
<li><p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571447057488.png" alt="1571447057488"></p>
</li>
<li></li>
</ul>
<h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><h3 id="路由器的特点"><a href="#路由器的特点" class="headerlink" title="路由器的特点"></a>路由器的特点</h3><ul>
<li><p>路由器是电脑. 用户配置放到NVRAM中, 操作系统在FLASH中, 有RAM, 主板, CPU等.</p>
</li>
<li><p>有不同级别的路由器, 包括民用的继承多业务路由器(ISR), 大企业的多业务路由器(ASR), 服务提供商的路由器.</p>
</li>
<li><p>路由器存储器</p>
<p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571447559605.png" alt="1571447559605"></p>
<p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571447979345.png" alt="1571447979345"></p>
<p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571448861432.png" alt="1571448861432"></p>
</li>
<li><p>启动IOS</p>
<p><img src="2019-10-13-ch6%E7%BD%91%E7%BB%9C%E5%B1%82/1571449205683.png" alt="1571449205683"></p>
</li>
</ul>
<h2 id="配置路由器"><a href="#配置路由器" class="headerlink" title="配置路由器"></a>配置路由器</h2><h3 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h3><ul>
<li><p>交换机 | 路由器</p>
<p>基本配置配置单</p>
<pre><code>配置设备名称
    hostname 名称
保护用户模式
    line console 0
    password 口令
    login
保护远程 Telnet / SSH 访问
    line vty 0 15
    password 口令
    login
保护特权模式
    enable secret 口令
保护配置文件中的所有密码
    service password-encryption
提供约定通知
    banner motd delimiter message delimiter
配置管理 SVI
    interface vlan 1
    ip address ip-address subnet-mask
    no shutdown</code></pre><p>操作</p>
<pre><code>Switch&gt; enable
Switch# configure terminal
Switch(config)# hostname S1
S1(config)# enable secret class
S1(config)# line console 0
S1(config-line)# password cisco
S1(config-line)# login
S1(config-line)# line vty 0 15
S1(config-line)# password cisco
S1(config-line)# login
S1(config-line)# exit
S1(config)# service password-encryption
S1(config)# banner motd #No unauthorized access allowed!#
S1(config)# interface vlan1
S1(config-if)# ip address 192.168.10.50 255.255.255.0
S1(config-if)# no shutdown
S1(config-if)# end
S1# copy running-config startup-config
Destination filename [startup-config]?
Building configuration...
[OK]</code></pre></li>
<li><p>给交换机配置默认网关</p>
<pre><code>S1(config)# ip default-gateway 192.168.10.1</code></pre></li>
</ul>
<ul>
<li><p>路由器</p>
<p>给端口配置IP地址</p>
<pre><code>R1# conf t
Enter configuration commands, one per line.
End with CNTL/Z.
R1(config)#
R1(config)# interface gigabitethernet 0/0
R1(config-if)# ip address 192.168.10.1 255.255.255.0
R1(config-if)# description Link to LAN-10
R1(config-if)# no shutdown
%LINK-5-CHANGED: Interface GigabitEthernet0/0,
changed state to up
%LINEPROTO-5-UPDOWN: Line protocol on Interface
GigabitEthernet0/0,changed state to up
R1(config-if)#exit
R1(config)#int g0/1
R1(config-if)#ip add 192.168.11.1 255.255.255.0
R1(config-if)#des Link to LAN-11
R1(config-if)#no shut</code></pre><p>检验配置</p>
<pre><code>R1# show ip interface brief
R1# ping 209.165.200.226
R1# show ip brief</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-28-ch05%E4%BB%A5%E5%A4%AA%E7%BD%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-28-ch05%E4%BB%A5%E5%A4%AA%E7%BD%91/" itemprop="url">2019-09-28-ch05以太网</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="以太网"><a href="#以太网" class="headerlink" title="以太网"></a>以太网</h1><p>categories: 思科1<br>思乐公司发明, 最流行的LAN技术. 以太网协议定义了网络通信的很多方面: </p>
<ul>
<li>帧格式</li>
<li>帧大小</li>
<li>时序</li>
<li>编码</li>
</ul>
<h2 id="以太网协议"><a href="#以太网协议" class="headerlink" title="以太网协议"></a>以太网协议</h2><h3 id="以太网帧"><a href="#以太网帧" class="headerlink" title="以太网帧"></a>以太网帧</h3><ul>
<li><p>以太网封装</p>
<ul>
<li>最大支持100Gb/s的带宽, 定义二层协议和一层技术.</li>
<li>LLC子层, 获取网络协议数据(IPv4数据包)加入控制信息, 帮助数据包传送到目的节点. 可将其视为网卡的驱动程序. </li>
<li>MAC子层, 由硬件(计算机网卡)实施. </li>
</ul>
</li>
<li><p>MAC子层</p>
<ul>
<li><p>职责为:</p>
<ul>
<li>数据封装</li>
<li>介质访问控制</li>
</ul>
</li>
<li><p>数据封装: 发送前-组装帧, 收到帧-解析帧. 构建帧时向网络层PDU添加帧头帧尾</p>
<ul>
<li>帧定界: 标识组成帧的一组位,  这些定界位会对发送节点与接收节点进行同步.</li>
<li>编制:  封装过程包含第 3 层 PDU, 还提供数据链路层编址. </li>
<li>错误检测: 由帧尾负责</li>
</ul>
</li>
<li><p>介质访问控制: 把帧放入介质中, 或从介质中移除帧. 控制对介质的访问. 直接与物理层沟通. </p>
</li>
<li><p>以太网帧结构</p>
<p><img src="2019-09-28-ch5%E4%BB%A5%E5%A4%AA%E7%BD%91/1570880643982.png" alt="1570880643982"></p>
<p>ethernet II 是TCP/IP网络中使用的以太网帧格式.</p>
</li>
</ul>
</li>
<li><p>以太网帧字段</p>
<ul>
<li>帧字段构成<ul>
<li>前导码: 7个字节+起始帧分界符(SFD)1个字节=8个字节. 通知对方准备接收帧, 并同步发送和接收设备.</li>
<li>目的MAC地址: 6个字节</li>
<li>源MAC地址: 6个字节</li>
<li>EtherType: 2个字节, 以太网帧的上层协议(IPv4, IPv6, ARP等)</li>
<li>数据字段, 46-1500个字节, 三层PDU. </li>
<li>FCS: 帧校验序列, 4个字节, 使用冗余循环检验(CRC), 发送帧包含CRC结果, 接收方计算CRC, 两者一致说明没有错误. </li>
</ul>
</li>
<li>最小64字节, 最大1518字节, 否则被丢弃.</li>
</ul>
</li>
</ul>
<h3 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h3><ul>
<li>48位, 12个16进制数, 每块网卡都有一个MAC地址. 刻录在网卡的ROM中, 不可更改. </li>
<li>前三个字节是厂商编码: OUI, 组织唯一标识符, 接着三个字节由厂商分配. 思科OUI是00-60-2F</li>
<li>单播MAC地址: 单播通讯必须指定对方设备的MAC地址, 只处理符合自己MAC地址的信息. </li>
<li>多播: MAC地址为FF-FF-FF-FF-FF-FF</li>
<li>IPv4 组播地址的范围为 224.0.0.0 到 239.255.255.255,  IPv6 组播地址的范围以 FF00::/8 开头.  与 IPv4 组播地址关联的组播 MAC 地址是以 01-00-5E 开头,  其余部分通过将 IP 组播组地址的低 23 位换算成 6 个十六进制字符而创建. IPv6组播地址以33-33开头. </li>
<li>使用短横<code>-</code>, 冒号<code>:</code>或句点<code>.</code>来分割</li>
</ul>
<h2 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h2><ul>
<li>二层设备, 只根据MAC地址做转发. </li>
<li>MAC地址表, 可编制内存(CAM)表, 在接受到端口1的信息, 包括源MAC和目标MAC, CAM记录这个端口对应的MAC地址, 然后给除了来源以外的端口群发信息(flood out, 泛洪), 4端口收到信息然后回复, CAM记录4端口对应的MAC地址. <ul>
<li>一个端口可以对应多个MAC地址, 一个MAC地址只能出现在一个端口.</li>
</ul>
</li>
</ul>
<h3 id="交换机转发"><a href="#交换机转发" class="headerlink" title="交换机转发"></a>交换机转发</h3><ul>
<li><p>存储转发: 存储整个帧道缓冲区, CRC校验完毕, 转发</p>
</li>
<li><p>直通: 收到数据包立刻转发. 不做错误检查. </p>
<ul>
<li>快速转发交换: 读取到MAC立刻转发. 延时指 收到第一个位到传出第一个位之间的时间差 .</li>
<li>免分片交换, 交换机检验数据前64个字节, 没有错误之后, 全部转发.</li>
</ul>
</li>
<li><p>内存缓冲: 转发帧之前存储帧, 当端口拥塞是, 可以一直存储帧到可以传送该帧.</p>
<ul>
<li>基于端口的内存缓冲, 缓存到传入-传出端口的队列中, 只有前面的帧都成功传送之后才会传送. </li>
<li>共享内存缓冲, 一个公共的缓冲区,  这可以使更多带宽专用于特定端口, 例如连接到服务器的端口. </li>
</ul>
</li>
<li><p>双工和速度设置:  交换机端口和连接的设备的双工设置和带宽设置必须匹配. 自动协调功能会自动选择高性能模式</p>
</li>
<li><p>Auto-MDIX: 自动介质相关接口交叉, 不用分别直通或者交叉电缆. 默认启用.</p>
</li>
</ul>
<h2 id="地址解析协议"><a href="#地址解析协议" class="headerlink" title="地址解析协议"></a>地址解析协议</h2><h3 id="MAC和IP"><a href="#MAC和IP" class="headerlink" title="MAC和IP"></a>MAC和IP</h3><ul>
<li><p>MAC地址, 物理地址. 以太网网卡的通信</p>
</li>
<li><p>IP地址, 逻辑地址.</p>
</li>
<li><p>前往远程网络:</p>
<ul>
<li>目的MAC地址位默认网关的地址</li>
<li>路由器收到帧, 根据IPv4的地址, 确定转发路径</li>
<li>负责转发的路由器收到帧, 根据IP地址确定下一跳的设备, 目的MAC地址修改为下一跳的MAC地址.</li>
</ul>
</li>
</ul>
<h3 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h3><ul>
<li><p>IP和MAC的映射</p>
</li>
<li><p>ARP请求包括目标IP, 源MAC. 使用<code>arp -a</code>(windows)来查看MAC地址表. 两分钟没有使用的MAC地址会被删掉. 静态MAC地址是有特殊用途的, 不会被删除. </p>
</li>
<li><p>如果数据包的目的 IPv4 地址与源 IPv4 地址处于同一个网络, 则设备会在 ARP 表中搜索目的 IPv4 地址.</p>
</li>
</ul>
<ul>
<li>如果目的 IPv4 地址与源 IPv4 地址不在同一个网络中, 则设备会在 ARP 表中搜索默认网关的 IPv4 地址.</li>
<li>ARP表的每一行绑定一个IPv4和MAC地址, 如果没有映射, 就发出ARP请求.</li>
<li></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-28-ch04%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-28-ch04%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/" itemprop="url">2019-09-28-ch04网络访问</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="网络访问"><a href="#网络访问" class="headerlink" title="网络访问"></a>网络访问</h1><p>categories: 思科1</p>
<h2 id="物理层协议"><a href="#物理层协议" class="headerlink" title="物理层协议"></a>物理层协议</h2><h3 id="物理层连接"><a href="#物理层连接" class="headerlink" title="物理层连接"></a>物理层连接</h3><ul>
<li>NIC, 网络接口卡, 以太网网卡用作有线连接</li>
<li>ISR, 集成多业务路由器， 常用的家用路由器.</li>
<li>WLAN, 无线网卡</li>
</ul>
<h3 id="物理层协议的作用"><a href="#物理层协议的作用" class="headerlink" title="物理层协议的作用"></a>物理层协议的作用</h3><ul>
<li>从数据链路层接受帧</li>
<li>把帧编码成电信号, 发送到介质上</li>
<li>检索信号, 还原为完整的帧, 传送给数据链路层</li>
</ul>
<h3 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h3><ul>
<li><p>物理层管理的功能区</p>
<ul>
<li>物理组件: 电子硬件设备, 介质和连接器. 用来传输位信号</li>
<li>编码: 将数据位流转化为电信号的方法</li>
<li>信令: 位的表示方法称为信令方法, 规定那种类型的信号代表1, 哪种代表0</li>
</ul>
</li>
<li><p>带宽: 最多能承载的数据能力, 单位时间可以流向目的地的数据量, 单位是bit/s, 常用有Mb/s, 或Mbps</p>
</li>
<li><p>吞吐量: 给定时段内通过介质传输的位的量度, 与带宽不同, 带宽是理想最大值, 吞吐量是实际值.</p>
</li>
</ul>
<h2 id="网络介质"><a href="#网络介质" class="headerlink" title="网络介质"></a>网络介质</h2><h3 id="铜缆"><a href="#铜缆" class="headerlink" title="铜缆"></a>铜缆</h3><p> 成本低, 易于安装, 电阻率低, 受到距离和信号干扰, 发送电脉冲信号. 容易受到两个干扰源的干扰: </p>
<ul>
<li>电磁干扰(EMI)或者射频干扰(RFI), 来源于无线电波和电磁设备(荧光灯, 电动机)</li>
<li>串扰, 电线中的电信号对周围电线照成的干扰, 来源于电话串线.</li>
</ul>
<p>铜缆有以下几种类型</p>
<ul>
<li>非屏蔽双绞线(UTP, unshielded twisted pair), 四对绞起来的线. 双绞线防止信号受到干扰, 铜线外包裹彩色塑料绝缘层(看到是彩色的线), 用颜色区分每个线对, 使用RJ-45连接器端接.</li>
</ul>
<p><img src="2019-09-28-ch4%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/1570174138628.png" alt="1570174138628"></p>
<ul>
<li>屏蔽双绞线(STP, shielded twisted pair), 比UTP多裹了一层覆盖的金属屏蔽层(法拉第笼), 使用RJ-45连接器端接. 如果接地不正确, 反而会接受多于信号. </li>
</ul>
<p><img src="2019-09-28-ch4%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/1570174149278.png" alt="1570174149278"></p>
<ul>
<li>同轴电缆, 几乎被淘汰. 从内到外依次是: 导线-绝缘层-铜网屏蔽层-塑料保护层. 用于无线安装或有线互联网安装. 可以连接BNC口, N口, F口.</li>
</ul>
<p><img src="2019-09-28-ch4%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/1570174158306.png" alt="1570174158306"></p>
<h3 id="UTP布线"><a href="#UTP布线" class="headerlink" title="UTP布线"></a>UTP布线</h3><ul>
<li><p>两根电线紧密排列, 彼此磁场恰好相反, 磁场抵消, 也消除了EMI和RFI干扰, 不同颜色的线绞合密度不同. 遵循TIA/EIA 共同制定的标准TIA/EIA-568, 定义了电缆类型, 长度, 连接器, 电缆端接, 测试电缆的方法.</p>
</li>
<li><p>分类</p>
<ul>
<li>3类: 线没有绞合, 带宽一般, 用作电话线</li>
<li>5(Cat5)类, 增强型5类/5e类(Cat5e): 线按照一定规格绞合, 用于百兆网</li>
<li>6(Cat6)类: 绞合的线外面包裹了分隔物, 支持千兆传输. 推荐使用</li>
</ul>
</li>
<li><p>采用RJ-45连接器, 遵循TIA/EIA-568标准. 8根线, 只用到了1236四根线, 12负责输入, 36负责输出.注意正反面. 图中是宽的面在上.  </p>
<p><img src="2019-09-28-ch4%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/1570175859931.png" alt="1570175859931"></p>
<ul>
<li>对于同种设备, 发送端的36要对应接收端的12. (交叉电缆), 包括主机-主机, 交换机-交换机, 路由器-路由器. 一端是T568A, 另一端T568B.</li>
<li>如果是异种设备, 两种设备12对应12, 36要对应36.(直通电缆). 包括主机-交换机, 主机-集线器</li>
</ul>
</li>
<li><p>传输距离100m</p>
</li>
</ul>
<h3 id="光纤"><a href="#光纤" class="headerlink" title="光纤"></a>光纤</h3><p>发送光脉冲信号, 从内到外为: 纤芯(玻璃制成)-涂层(反射用)-缓冲区(保护)-强化材料(保护)-表皮(保护)</p>
<p><img src="2019-09-28-ch4%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/1570176590558.png" alt="1570176590558"></p>
<ul>
<li>单模光纤: 数百公里, 用激光发射, 很细, 几乎不反射</li>
<li>多模: 较粗, LED光源, 光反射</li>
<li>信号损失发生在光纤到接口上</li>
<li>OTDR, 光时域反射器, 根据反射光传输时间定位损坏位置</li>
</ul>
<h3 id="无线"><a href="#无线" class="headerlink" title="无线"></a>无线</h3><p>发送微波信号, 802.11标准</p>
<ul>
<li>无线接入点AP, 集中用户的无线信号, 并连接到现有基于铜介质的网络基础设施, 如以太网.</li>
</ul>
<h2 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h2><h3 id="职能"><a href="#职能" class="headerlink" title="职能"></a>职能</h3><ul>
<li>允许上层访问介质</li>
<li>接受第 3 层数据包，并将它们打包为帧</li>
</ul>
<ul>
<li><p>为物理网络准备网络数据</p>
</li>
<li><p>控制数据在介质中的放置和接收方式</p>
</li>
<li><p>在物理网络介质（例如 UTP 或光纤）中的节点之间交换帧</p>
</li>
<li><p>收数据包并将其传输给上层协议</p>
</li>
<li><p>执行错误检测</p>
</li>
</ul>
<p>分为两个子层:</p>
<ul>
<li><p>LLC, 逻辑链路控制, 根据网络层协议进行封装</p>
</li>
<li><p>MAC, 介质访问控制, 对接物理标准, 把帧放到介质上, 从介质上获取帧. 不同的介质需要使用不同的数据链路层协议. 转发信息时, 需要接收帧-解封-重新封装-发送</p>
<p>需要解决以下的问题</p>
<ul>
<li>拓扑-节点之间的连接如何显示在数据链路层中</li>
<li>介质共享-如何共享介质</li>
</ul>
</li>
</ul>
<h3 id="拓扑"><a href="#拓扑" class="headerlink" title="拓扑"></a>拓扑</h3><p>网络设备以及互联布局或关系. 分类有: </p>
<ul>
<li>物理拓扑, 表示终端设备和基础设施设备, 突出设备位置, 设备种类</li>
<li>逻辑拓扑, 突出ip地址, 连接端口</li>
</ul>
<h3 id="物理WAN拓扑"><a href="#物理WAN拓扑" class="headerlink" title="物理WAN拓扑"></a>物理WAN拓扑</h3><ul>
<li>点对点<ul>
<li>节点1-网络-节点二</li>
<li>不用共享介质, 判断帧的目的地址</li>
</ul>
</li>
<li>中心型</li>
<li>网状</li>
</ul>
<h3 id="物理LAN拓扑"><a href="#物理LAN拓扑" class="headerlink" title="物理LAN拓扑"></a>物理LAN拓扑</h3><ul>
<li>星型<ul>
<li>集线器(假星型, 其实还是总线型, 公用带宽)<ul>
<li>连接所有的点</li>
<li>载波侦听多点接入/冲突检测CSMA/CD, 监听-冲突-等待-重发</li>
<li>利用效率低</li>
</ul>
</li>
<li>交换机(真星型, 独享带宽)<ul>
<li>点对点通路</li>
</ul>
</li>
<li>路由器<ul>
<li>隔离广播, 广播不允许通过</li>
</ul>
</li>
</ul>
</li>
<li>总线</li>
<li>环</li>
<li>扩展星型(多个星型相连)</li>
<li>单工, 半双工, 双工: 单工: 发射接收角色不互换, 半双工(集线器), 发射接收不同时, 双工(交换机), 同时.</li>
<li>争用访问-CSMA/CD, 载波侦听多路访问/冲突<strong>检测</strong>机制, 用于半双工, 需要一个进程管理设备合适可以发送以及多设备同时发送的处理. 进程如下:<ul>
<li>A想要发送帧</li>
<li>检测是否有人传输, 如果没有, 发送</li>
<li>集线器接收帧</li>
<li>B设备想发送, 必须等待</li>
<li>所有设备接收到帧, MAC地址匹配的主机接收整个帧</li>
<li>两台设备同时传输造成冲突, 两台设备都将检测到, 数据损失. 等待一段时间重新发送.</li>
</ul>
</li>
<li>争用访问-CSMA/CA, 载波侦听多路访问/冲突<strong>避免</strong>机制, 数据包包含自己的长度. 其他设备收到此信息, 就会知道介质不可用时间, 在此期间停止传输. 接收方收到之后, 返回确认信息, 表示帧已到达. 用于无线连接. 全双工. 不会检测冲突, 而是在传输之前等待来避免冲突</li>
</ul>
<h3 id="数据链路帧"><a href="#数据链路帧" class="headerlink" title="数据链路帧"></a>数据链路帧</h3><ul>
<li>帧: 帧头, 数据, 帧尾</li>
<li>帧头<ul>
<li>帧开始和停止标志, 标识帧的开始和结束位置的限制</li>
<li>编址, 表示介质上的源节点和目的节点. 用MAC地址. 还包含了源地址.<ul>
<li>路由器用IP地址确定通往目的设备的最佳路径</li>
<li>路由器重新填写MAC地址, 转发到下一级</li>
</ul>
</li>
<li>类型, 用于标识数据字段中的第 3 层协议</li>
<li>控制, 用于标识特殊流量控制服务, 例如QoS, 某些信息有优先权. </li>
</ul>
</li>
<li>帧尾<ul>
<li>错误检测</li>
<li>帧结束</li>
</ul>
</li>
<li>协议种类<ul>
<li>802.11无线帧</li>
<li>以太帧</li>
<li>……</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-28-ch03%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%92%8C%E9%80%9A%E4%BF%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-28-ch03%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%92%8C%E9%80%9A%E4%BF%A1/" itemprop="url">2019-09-28-ch03网络协议和通信</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="网络协议和通信"><a href="#网络协议和通信" class="headerlink" title="网络协议和通信"></a>网络协议和通信</h1><p>categories: 思科1</p>
<h2 id="通信规则"><a href="#通信规则" class="headerlink" title="通信规则"></a>通信规则</h2><h3 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h3><ul>
<li><p>通信要素包括: 消息来源, 目的地址, 通道</p>
</li>
<li><p>协议要对以下要求做出说明</p>
<ul>
<li>标识发送方, 接收方</li>
<li>语言和语法</li>
<li>传递的速度和时间</li>
<li>证实或确认要求</li>
</ul>
</li>
<li><p>消息编码</p>
<ul>
<li>适合介质</li>
</ul>
</li>
<li><p>消息格式与封装</p>
<ul>
<li>称为<strong>帧</strong></li>
<li>目的地址和源主机的地址</li>
</ul>
</li>
<li><p>消息大小</p>
</li>
<li><p>消息时序</p>
<ul>
<li>访问方法: 消息发送的时间以及发生冲突的响应方式</li>
<li>流量控制: 信息量和发送速度</li>
<li>响应超时: 没有及时回复的操作</li>
</ul>
</li>
<li><p>消息传输</p>
<ul>
<li>单播: 一对一, 只有一个目的地址</li>
<li>组播: 一对多, 发送同一条消息到一组主机</li>
<li>广播: 发送消息到所有主机</li>
</ul>
</li>
</ul>
<h2 id="网络协议与标准"><a href="#网络协议与标准" class="headerlink" title="网络协议与标准"></a>网络协议与标准</h2><h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><ul>
<li><p>协议簇: 执行某种通信功能所需的一组内在相关协议, 在通讯涉及到的软硬件中实施</p>
</li>
<li><p>网络协议</p>
<ul>
<li>协议是为了让发送接收方都理解信息。</li>
<li>消息格式化/结构化</li>
<li>网络设备与其他网络贡献路径信息</li>
<li>传送错误信息与系统消息的方式与使劲啊</li>
<li>网络通道建立和拆除</li>
</ul>
</li>
<li><p>协议交互: 示例: web服务器和客户端</p>
<ul>
<li>应用层-HTTP(超文本传输协议)</li>
<li>传输层-TCP(传输控制协议), TCP将HTTP消息划分为小片段(数据段), 控制消息大小和传输速率</li>
<li>互联网层-IP(Internet 协议), 从TCP获得格式化数据段, 封装成为数据包, 分配地址, 传送到目标主机</li>
<li>网络接入层-以太网, 网络访问协议, 包括数据链路上的通信和网络介质中数据的物理传输. 接受来自IP的数据包, 封装称为介质传输的格式</li>
</ul>
<p><img src="2019-09-28-ch3%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%92%8C%E9%80%9A%E4%BF%A1/1570074476689.png" alt="1570074476689"></p>
</li>
</ul>
<h3 id="TCP-IP协议簇"><a href="#TCP-IP协议簇" class="headerlink" title="TCP/IP协议簇"></a>TCP/IP协议簇</h3><ul>
<li>协议分层: 不同厂商专注于自己的层, 层之间的交互方式是固定的. TCP/IP协议簇包括: 应用层-传输层-互联网层-网络接入层.</li>
<li>TCP/IP协议簇被作为TCP/IP协议栈来实施, 通过网络为应用程序提供给端到端的传送. 以太网协议用于通过 LAN 使用的物理介质传输 IP 数据包</li>
<li>不同层的常用协议<ul>
<li>应用层<ul>
<li>DNS, 域名系统</li>
<li>DHCP, 动态主机配置协议, 动态分配/回收ip</li>
<li>SMTP(简单邮件传输协议, 客户端或服务器发送邮件), POP3(邮局协议, 检索和下载邮件), IMAP(Internet 消息访问协议, 访问存储在邮件服务器中的邮件, 维护电子邮件)</li>
<li>FTP(文件传输协议, 确认传输结果, 可靠, 面向连接), TFTP(简单文件传输协议, 无连接, 五确认, 比FTP占用资源少)</li>
<li>HTTP, 超文本传输协议</li>
</ul>
</li>
<li>传输层<ul>
<li>UDP, 用户数据报协议, 不确认数据传输是否成功</li>
<li>TCP, 确认成功传输, 可靠</li>
</ul>
</li>
<li>互联网层<ul>
<li>IP, 从传输层接收消息段, 打包为数据包, 数据包在网络上端对端传输.</li>
<li>NAT, 将私有网络IP地址转化为公有IP地址</li>
<li>ICMP, Internet控制消息协议, 反馈数据包传输过程中的错误</li>
<li>OSPF, 开放最短路径优先, 路由协议</li>
<li>EIGRP, 增强型内部网关路由协议, 综合度量带宽, 延迟, 负载, 可靠性</li>
</ul>
</li>
<li>网络接入层<ul>
<li>ARP, 地址解析(resolution)协议, 查询局域网IP地址对应的MAC地址</li>
<li>PPP, 点对点协议</li>
<li>以太网, 网络接入层的布线标准, 信令标准</li>
<li>接口驱动程序</li>
</ul>
</li>
</ul>
</li>
<li>TCP/IP通信过程, 以HTTP为例<ul>
<li>HTTP将报头添加到HTML数据前面, 把HTML格式的网页数据传给传输层</li>
<li>TCP传输层协议管理当个会话</li>
<li>将IP信息添加到TCP信息前, 形成<strong>IP数据包</strong></li>
<li>以太网协议添加到IP数据包两端, 形成<strong>数据链路帧</strong></li>
</ul>
</li>
</ul>
<h3 id="标准组织"><a href="#标准组织" class="headerlink" title="标准组织"></a>标准组织</h3><ul>
<li>IEEE, 电气电子工程师协会</li>
<li>ISOC</li>
<li>TIA, 电信工业协会(网线排列的协议), TIA/EIA协议</li>
<li>EIA, 美国电子工业协会(网线排列的协议)</li>
<li>……</li>
</ul>
<h3 id="参考模型"><a href="#参考模型" class="headerlink" title="参考模型"></a>参考模型</h3><p><img src="2019-09-28-ch3%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%92%8C%E9%80%9A%E4%BF%A1/1570077783264.png" alt="1570077783264"></p>
<ul>
<li>OSI模型, 用层的编号代替名称, 第一层指物理层, 第七层是应用层<ul>
<li>应用层, 进程通信的协议</li>
<li>表示层, 规定应用层数据传输的表示方式</li>
<li>会话层, 为表示层提供组值对话, 管理数据交换的服务</li>
<li>传输层, 数据分段, 传输, 重组</li>
<li>网络层, 通过网络交换数据片段</li>
<li>数据链路层, 通过公共介质交换数据帧</li>
<li>物理层, 硬件设备, 电气, 功能, 操作方法, 为设备传输提供物理连接</li>
</ul>
</li>
<li>TCP/IP模型<ul>
<li>应用层, 提供数据, 编码, 会话控制</li>
<li>传输层, 各种设备通过不同网络通信</li>
<li>互联网层, 通信最佳路径</li>
<li>网络接入层, 控制组成网络的硬件设备和介质</li>
</ul>
</li>
</ul>
<h2 id="网络数据传输"><a href="#网络数据传输" class="headerlink" title="网络数据传输"></a>网络数据传输</h2><h3 id="数据封装"><a href="#数据封装" class="headerlink" title="数据封装"></a>数据封装</h3><ul>
<li><p>消息分段</p>
<ul>
<li>分段: 消息切割, 方便重传, 避免占用网络过长时间</li>
<li>多路复用: 指源设备向目标设备发送一个个小片段, 交替发送不同的会话</li>
</ul>
</li>
<li><p>PDU, 协议数据单元, 在不同层有不同的名字</p>
<ul>
<li><p>应用层-data, 数据</p>
</li>
<li><p>传输层-segment, 数据段, 包含目的和源的端口号</p>
</li>
<li><p>网络层-package, 打包, 包含目的和源的网络地址</p>
</li>
<li><p>数据链路层-frame, 帧, 物理地址, 包括<strong>一次转发的</strong>网络接口卡(NIC)的物理地址(MAC地址)和接收数据链路帧的NIC的物理地址, 会自动删除上一次转发的地址. </p>
<p>对于客户端来说, 想访问web服务器, 第一级的目的MAC地址常常是<strong>默认网关</strong></p>
</li>
<li><p>物理层-位, 定时和同步</p>
</li>
</ul>
</li>
<li><p>封装/接触封装</p>
<ul>
<li>encapsulation</li>
</ul>
</li>
</ul>
<h3 id="数据访问"><a href="#数据访问" class="headerlink" title="数据访问"></a>数据访问</h3><ul>
<li>网络地址<ul>
<li>目的和源的物理地址(mac地址, 不可跨区域), 本地网络进行点对点通讯, 在<strong>数据链路层</strong>定义</li>
<li>目的和源的逻辑地址(逻辑地址, 可跨区), 在<strong>网络层</strong>定义</li>
<li>目的和源的进程号, 端口号, 在<strong>传输层</strong>定义</li>
<li>通往特定进程</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-21-ch02%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tianyilt">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="探究前线">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/15/CCNA/%E6%80%9D%E7%A7%911/2019-09-21-ch02%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url">2019-09-21-ch02配置网络操作系统</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-15T15:02:04+08:00">
                2019-12-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/" itemprop="url" rel="index">
                    <span itemprop="name">CCNA</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CCNA/%E6%80%9D%E7%A7%911/" itemprop="url" rel="index">
                    <span itemprop="name">思科1</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ch2：配置网络操作系统"><a href="#ch2：配置网络操作系统" class="headerlink" title="ch2：配置网络操作系统"></a>ch2：配置网络操作系统</h1><p>categories: 思科1</p>
<h2 id="思科IOS"><a href="#思科IOS" class="headerlink" title="思科IOS"></a>思科IOS</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><ul>
<li>思科的操作系统</li>
<li>允许用户与设备交互</li>
<li>RJ45接口：console口，即控制台接口，在控制计算机上打开一个终端CLI进行配置. 使用控制台电缆, 连接主机的串行接口和控制台接口. </li>
<li>AUX口: 辅助控制口, console口无法使用的时候</li>
<li>每一个思科系统都有一个IOS</li>
</ul>
<h3 id="命令结构"><a href="#命令结构" class="headerlink" title="命令结构"></a>命令结构</h3><ul>
<li>关键字, 如果不会引起歧义, 可以缩短</li>
<li>参数</li>
</ul>
<h3 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h3><ul>
<li>上下文帮助, 直接输入问号<code>?</code></li>
</ul>
<h2 id="基本设备配置"><a href="#基本设备配置" class="headerlink" title="基本设备配置"></a>基本设备配置</h2><h3 id="主机名"><a href="#主机名" class="headerlink" title="主机名"></a>主机名</h3><ul>
<li><p>设备名称: 用来区分设备, 好的设备名能准确表达设备的角色</p>
<ul>
<li>大小写敏感</li>
<li>字母, 数字, 破折号</li>
</ul>
</li>
<li><p>配置主机名</p>
<pre><code>enable
config terminal
hostname SW-Floor-1
no hostname // 把主机名设置为</code></pre></li>
<li><p>防止不必要的dns查找, 命令输错时, 防止交换机把他们认为是主机名而进行搜索</p>
<pre><code>// 配置模式下
no ip domain-lookup</code></pre></li>
</ul>
<h3 id="默认限制对设备配置的访问"><a href="#默认限制对设备配置的访问" class="headerlink" title="默认限制对设备配置的访问"></a>默认限制对设备配置的访问</h3><ul>
<li><p>使用分层模式对设备设置密码</p>
<ul>
<li>密码保护特权exec访问</li>
<li>密码保护用户exec访问</li>
<li>密码保护telnet访问</li>
<li>加密密码+法律通知</li>
</ul>
</li>
<li><p>配置密码</p>
<ul>
<li><p>特权exec密码</p>
<pre><code class="shell">// 用户模式下
enable
conf terminal
enable secret your_password // 设置特权exec的使能加密密码, 密码以密文存储
exit // 退出配置模式
disable // 退出特权模式
enable // 会提示输入密码</code></pre>
</li>
<li><p>用户exec密码</p>
<pre><code>// 配置模式(config)下
line console 0 // line console代表线路控制台配置, 0代表第一个(大多只有一个)控制台接口
password your_password
login // 启用用户exec访问
exit // 回到配置模式</code></pre></li>
<li><p>虚拟终端(VTY)线路支持设备远程访问, 配置密码</p>
<pre><code>// 配置模式下
line vty 0 15 // 为0-15共16个VTY线路配置密码
password your_password 
login</code></pre></li>
</ul>
</li>
<li><p>加密密码</p>
<pre><code>// 配置模式下
service password-encryption // 加密密码
show running-conf // 查看密码是否加密</code></pre></li>
<li><p>标语</p>
<pre><code>// 配置模式下
banner motd #No unauthorized access allowed# // ## 是分隔符, 是必须的, 分隔符可以任意, 但不能是警告语句中的字符</code></pre></li>
<li><p>保存配置</p>
<pre><code>// 特权模式下
show running-config // 目前配置
show startup-config // 开机配置
copy running-config startup-config // 或者 copy run start
reload // 重启, 删除为保存的配置
erase startup-config // 删除开机配置</code></pre></li>
<li><p>保存配置到文本文件</p>
<ul>
<li>使用<code>show startup-config</code>输出所有配置到屏幕上</li>
<li>复制配置到文本文件中</li>
<li>复制文本文件的配置到另一个终端里, 就可以重复这一配置</li>
</ul>
</li>
</ul>
<h2 id="地址方案"><a href="#地址方案" class="headerlink" title="地址方案"></a>地址方案</h2><h3 id="端口和地址"><a href="#端口和地址" class="headerlink" title="端口和地址"></a>端口和地址</h3><ul>
<li><p>ip地址</p>
<ul>
<li><p>可以分配给物理端口和虚拟接口, 虚拟接口表示设备没有关联任何物理硬件</p>
</li>
<li><p>默认网关: 主机将用于远程网络(internet访问)的路由器IP地址</p>
</li>
<li><p>子网掩码: 对于ipv4是必要的, 区分地址的网络部分和主机部分</p>
</li>
</ul>
</li>
<li><p>端口和接口</p>
<ul>
<li>接口设备包括: 用户设备接口, 网络设备接口, 电缆</li>
<li>通信介质要考虑: 传输信号距离, 部署环境, 传输数据量和速度, 材料与成本</li>
<li>交换机是二层设备, 不要ip地址, 分给思科交换机的ip地址是为了远程连接, 称为svi, 交换机虚拟接口. </li>
</ul>
</li>
</ul>
<h3 id="配置ip地址"><a href="#配置ip地址" class="headerlink" title="配置ip地址"></a>配置ip地址</h3><ul>
<li><p>dhcp: dynamic host configuration protocol, 动态主机设置协议, 自动分配ip, 子网掩码, 网关.</p>
</li>
<li><p>为思科交换机配置svi</p>
<pre><code>// 在全局配置下
interface vlan 1 // 默认虚拟交换机接口
ip address 192.168.1.10 255.255.255.0
no shutdown // 激活vlan 1接口
exit // 进入使能模式
show ip interface brief // 查看ip接口简要信息
// 看到vlan 1接口逻辑上是开启的, 物理上关闭, 因为没有设备vlan接入
// 将一个以太网电缆从终端上接到交换机的以太网接口
show ip interface brief // 这次逻辑上和物理上接口都是up
// 如果看到administratively down, 说明忘记设置no shutdown
// 在计算机上设置ip和子网掩码
// 用命令行ping交换机的接口</code></pre></li>
<li><p>交换机的ip是绑定到svi而不是物理接口, 因此无论哪个接口, ip地址都是一样的. pc的ip地址就是绑定到以太网</p>
</li>
<li></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">tianyilt</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">73</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tianyilt</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
